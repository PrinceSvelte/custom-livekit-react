{"code":"import { faVideo, faVideoSlash } from '@fortawesome/free-solid-svg-icons';\r\nimport { Room } from 'livekit-client';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { ControlButton } from './ControlButton';\r\nexport const VideoSelectButton = ({ isEnabled, onClick, onSourceSelected, disableText = 'Disable Video', enableText = 'Enable Video', requestPermissions = true, className, isButtonDisabled, popoverContainerClassName, popoverTriggerBtnClassName, popoverTriggerBtnSeparatorClassName, }) => {\r\n    const [sources, setSources] = useState([]);\r\n    const [menuItems, setMenuItems] = useState([]);\r\n    const listVideoDevices = useCallback(async () => {\r\n        const devices = await Room.getLocalDevices('videoinput', requestPermissions);\r\n        setSources(devices);\r\n        setMenuItems(devices.map((item) => {\r\n            return { label: item.label };\r\n        }));\r\n    }, []);\r\n    useEffect(() => {\r\n        listVideoDevices();\r\n        navigator.mediaDevices.addEventListener('devicechange', listVideoDevices);\r\n        return () => {\r\n            navigator.mediaDevices.removeEventListener('devicechange', listVideoDevices);\r\n        };\r\n    }, []);\r\n    const handleMenuItem = (item) => {\r\n        const device = sources.find((d) => d.label === item.label);\r\n        if (device && onSourceSelected) {\r\n            onSourceSelected(device);\r\n        }\r\n    };\r\n    return (React.createElement(ControlButton, { label: isEnabled ? disableText : enableText, icon: isEnabled ? faVideo : faVideoSlash, disabled: isButtonDisabled, onClick: onClick, menuItems: menuItems, onMenuItemClick: handleMenuItem, className: className, popoverContainerClassName: popoverContainerClassName, popoverTriggerBtnClassName: popoverTriggerBtnClassName, popoverTriggerBtnSeparatorClassName: popoverTriggerBtnSeparatorClassName }));\r\n};\r\n//# sourceMappingURL=VideoSelectButton.js.map","references":["/Users/princerajput/custom-livekit/@livekit/react-components/node_modules/@fortawesome/free-solid-svg-icons/index.d.ts","/Users/princerajput/custom-livekit/@livekit/react-components/node_modules/livekit-client/dist/src/index.d.ts","/Users/princerajput/custom-livekit/@livekit/react-components/node_modules/@types/react/ts5.0/index.d.ts","/Users/princerajput/custom-livekit/@livekit/react-components/src/components/ControlButton.tsx"],"map":"{\"version\":3,\"file\":\"VideoSelectButton.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/components/VideoSelectButton.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EAAE,OAAO,EAAE,YAAY,EAAE,MAAM,mCAAmC,CAAC;AAC1E,OAAO,EAAE,IAAI,EAAE,MAAM,gBAAgB,CAAC;AACtC,OAAO,KAAK,EAAE,EAAE,WAAW,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAChE,OAAO,EAAE,aAAa,EAAY,MAAM,iBAAiB,CAAC;AAgB1D,MAAM,CAAC,MAAM,iBAAiB,GAAG,CAAC,EAChC,SAAS,EACT,OAAO,EACP,gBAAgB,EAChB,WAAW,GAAG,eAAe,EAC7B,UAAU,GAAG,cAAc,EAC3B,kBAAkB,GAAG,IAAI,EACzB,SAAS,EACT,gBAAgB,EAChB,yBAAyB,EACzB,0BAA0B,EAC1B,mCAAmC,GACZ,EAAE,EAAE;IAC3B,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAoB,EAAE,CAAC,CAAC;IAC9D,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAa,EAAE,CAAC,CAAC;IAE3D,MAAM,gBAAgB,GAAG,WAAW,CAAC,KAAK,IAAI,EAAE;QAC9C,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,kBAAkB,CAAC,CAAC;QAC7E,UAAU,CAAC,OAAO,CAAC,CAAC;QACpB,YAAY,CACV,OAAO,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;YACnB,OAAO,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC;QAC/B,CAAC,CAAC,CACH,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,SAAS,CAAC,GAAG,EAAE;QACb,gBAAgB,EAAE,CAAC;QACnB,SAAS,CAAC,YAAY,CAAC,gBAAgB,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;QAC1E,OAAO,GAAG,EAAE;YACV,SAAS,CAAC,YAAY,CAAC,mBAAmB,CAAC,cAAc,EAAE,gBAAgB,CAAC,CAAC;QAC/E,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,MAAM,cAAc,GAAG,CAAC,IAAc,EAAE,EAAE;QACxC,MAAM,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3D,IAAI,MAAM,IAAI,gBAAgB,EAAE;YAC9B,gBAAgB,CAAC,MAAM,CAAC,CAAC;SAC1B;IACH,CAAC,CAAC;IAEF,OAAO,CACL,oBAAC,aAAa,IACZ,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,EAC3C,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,YAAY,EACxC,QAAQ,EAAE,gBAAgB,EAC1B,OAAO,EAAE,OAAO,EAChB,SAAS,EAAE,SAAS,EACpB,eAAe,EAAE,cAAc,EAC/B,SAAS,EAAE,SAAS,EACpB,yBAAyB,EAAE,yBAAyB,EACpD,0BAA0B,EAAE,0BAA0B,EACtD,mCAAmC,EAAE,mCAAmC,GACxE,CACH,CAAC;AACJ,CAAC,CAAC\"}","dts":{"name":"/Users/princerajput/custom-livekit/@livekit/react-components/components/VideoSelectButton.d.ts","writeByteOrderMark":false,"text":"import React from 'react';\r\nexport interface VideoSelectButtonProps {\r\n    isEnabled: boolean;\r\n    onClick?: () => void;\r\n    onSourceSelected?: (device: MediaDeviceInfo) => void;\r\n    disableText?: string;\r\n    enableText?: string;\r\n    requestPermissions?: boolean;\r\n    className?: string;\r\n    isButtonDisabled?: boolean;\r\n    popoverContainerClassName?: string;\r\n    popoverTriggerBtnClassName?: string;\r\n    popoverTriggerBtnSeparatorClassName?: string;\r\n}\r\nexport declare const VideoSelectButton: ({ isEnabled, onClick, onSourceSelected, disableText, enableText, requestPermissions, className, isButtonDisabled, popoverContainerClassName, popoverTriggerBtnClassName, popoverTriggerBtnSeparatorClassName, }: VideoSelectButtonProps) => React.JSX.Element;\r\n"}}
